@mixin registerGlobalIcons($groups, $prefix: 'app') {
  @include registerIconSources($groups, $prefix);
  @include registerIconRules(map-get($groups, 'default'), $prefix);
}

@mixin registerIconSources($groups, $prefix: 'app') {
  @each $theme, $icons in $groups {
    @if $theme != 'default' {
      // custom (dark, ...)
      [data-theme="#{$theme}"] {
        @each $name, $url in $icons {
          --app-icon-#{$prefix}-#{$name}: url(#{$url});
        }
      }
    } @else {
      // default
      :root, [data-theme="default"] {
        @each $name, $url in $icons {
          --app-icon-#{$prefix}-#{$name}: url(#{$url});
        }
      }
    }
  }
}

@mixin registerIconRules($icons, $prefix: 'app') {
  @each $name, $url in $icons {
    .icon.#{$prefix}-#{$name}, .icon.#{$name} {
      display: inline-block;
      content: var(--app-icon-#{$prefix}-#{$name});
    }
  }
}
